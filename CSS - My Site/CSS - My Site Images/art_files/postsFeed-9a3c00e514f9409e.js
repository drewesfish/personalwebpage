(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7428],{64063:function(e){"use strict";e.exports=function e(n,t){if(n===t)return!0;if(n&&t&&"object"==typeof n&&"object"==typeof t){if(n.constructor!==t.constructor)return!1;var r,i,o;if(Array.isArray(n)){if((r=n.length)!=t.length)return!1;for(i=r;0!==i--;)if(!e(n[i],t[i]))return!1;return!0}if(n.constructor===RegExp)return n.source===t.source&&n.flags===t.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===t.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===t.toString();if((r=(o=Object.keys(n)).length)!==Object.keys(t).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(!e(n[a],t[a]))return!1}return!0}return n!==n&&t!==t}},21880:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/postsFeed",function(){return t(64639)}])},68368:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(35944),i=(t(67294),t(94184)),o=t.n(i),a=t(15085);function l(e){return(0,r.tZ)("div",{className:o()("dialog",{"is-destructive":e.isDestructive}),children:(0,r.BX)(a.G7,{css:[a.l0.colWithGap(24)],children:[(0,r.tZ)(a.h4,{variant:"headerDefault",level:2,children:e.title}),"string"===typeof e.children?(0,r.tZ)(a.xv,{multiline:!0,children:e.children}):e.children,(0,r.BX)(a.G7,{css:[a.l0.rowWithGap(12),a.l0.justify.end],children:[(0,r.tZ)(a.zx,{onClick:e.onCancel,text:"Cancel"}),(0,r.tZ)(a.zx,{colorway:e.isDestructive?"negative":"primary",onClick:e.onConfirm,text:e.confirmLabel||"Confirm"})]})]})})}},65632:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(35944),i=t(87603),o=t.n(i),a=(t(67294),t(94184)),l=t.n(a);function s(e){var n=e.unreadDot,t=e.size,i=void 0===t?12:t,a=e.count,s=void 0===a?null:a,c=s&&s>99,u=c?"99+":null===s||void 0===s?void 0:s.toString();return(0,r.BX)("span",{className:"jsx-1c7f3b9066c4c334",children:[(0,r.tZ)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",style:{color:"currentColor"},xmlns:"http://www.w3.org/2000/svg",className:"jsx-1c7f3b9066c4c334",children:(0,r.tZ)("path",{d:"M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-1c7f3b9066c4c334"})}),n?(0,r.tZ)("div",{className:"jsx-1c7f3b9066c4c334 unread-indicator"}):null,Boolean(s)&&(0,r.tZ)("div",{className:"jsx-1c7f3b9066c4c334 "+(l()("count",{overflow:c})||""),children:u}),(0,r.tZ)(o(),{id:"1c7f3b9066c4c334",children:"span.jsx-1c7f3b9066c4c334{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.unread-indicator.jsx-1c7f3b9066c4c334{width:5px;height:5px;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;background-color:var(--accent-red-default);-webkit-transform:translate(8px,-1px);-moz-transform:translate(8px,-1px);-ms-transform:translate(8px,-1px);-o-transform:translate(8px,-1px);transform:translate(8px,-1px);position:absolute}.count.jsx-1c7f3b9066c4c334{-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;background-color:var(--accent-negative-default);-webkit-transform:translate(50%,-50%);-moz-transform:translate(50%,-50%);-ms-transform:translate(50%,-50%);-o-transform:translate(50%,-50%);transform:translate(50%,-50%);position:absolute;min-width:16px;padding:2px 3px;height:16px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;color:white;font-size:var(--font-size-small)}.overflow.jsx-1c7f3b9066c4c334{-webkit-transform:translate(25%,-50%);-moz-transform:translate(25%,-50%);-ms-transform:translate(25%,-50%);-o-transform:translate(25%,-50%);transform:translate(25%,-50%)}"})]})}},34193:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var r=t(26042),i=t(69396),o=t(99534),a=t(10253),l=t(35944),s=t(87603),c=t.n(s),u=t(67294),d=t(62976),p=t(11163),f=t(84932),m=t(67629),h=(t(57263),t(81255)),v={xsmall:400,small:450,medium:550,large:900},g=100;function Z(e){var n=e.children,t=(0,o.Z)(e,["children"]),r=t.onRequestClose,i=(0,p.useRouter)(),s=(0,a.Z)(u.useState(!1),2),m=s[0],Z=s[1],y=(0,a.Z)(u.useState(t.isOpen),2),w=y[0],R=y[1],k=(0,a.Z)(u.useState(!1),2),x=k[0],P=k[1];if(u.useEffect((function(){if(t.isOpen){var e=setTimeout((function(){return P(!0)}));return function(){clearTimeout(e)}}P(!1)}),[t.isOpen]),u.useEffect((function(){if(!t.isOpen){var e=setTimeout((function(){R(!1)}),g);return function(){clearTimeout(e)}}R(t.isOpen)}),[t.isOpen]),u.useEffect((function(){return Z(!0)}),[]),u.useEffect((function(){if(t.isOpen&&!t.preventCloseOnRouteChange){var e=function(){return r()};return i.events.on("routeChangeStart",e),function(){i.events.off("routeChangeStart",e)}}}),[t.isOpen,t.preventCloseOnRouteChange,i,r]),!m)return null;var C=v[t.width||"medium"],U=x?1:0;return(0,l.BX)(l.HY,{children:[(0,l.tZ)(d.Ot,{prefix:"modal",children:(0,l.tZ)(f.t9,{style:{opacity:U},isOpen:w,onDismiss:t.preventClose?void 0:t.onRequestClose,className:"oldModalOverlay",children:(0,l.BX)(f.cZ,{"aria-label":"Dialog",style:{maxWidth:"calc(".concat(C,"px + var(--space-32))")},className:"oldModalContent",children:[n,t.preventClose||t.hideCloseButton?null:(0,l.tZ)("div",{"aria-label":"Close",className:c().dynamic([["9f06ff8373dbab42",[h.n0,g]]])+" close-control",children:(0,l.tZ)(b,{onClick:function(){t.onRequestClose()}})})]})})}),(0,l.tZ)(c(),{id:"9f06ff8373dbab42",dynamic:[h.n0,g],children:".oldModalOverlay{position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto;z-index:".concat(h.n0,";background-color:var(--background-overlay);-webkit-transition:opacity ").concat(g,"ms;-moz-transition:opacity ").concat(g,"ms;-o-transition:opacity ").concat(g,"ms;transition:opacity ").concat(g,"ms;opacity:0;padding:0 var(--space-16)}.oldModalContent{margin:20vh auto;outline:none;position:relative;background-color:var(--background-default);-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);border:1px solid var(--background-highest)}.oldModalOverlay.is-open{opacity:1}.close-control.__jsx-style-dynamic-selector{position:absolute;top:0;right:0;-webkit-transform:translate(0,-webkit-calc(-100% - var(--space-8)));-moz-transform:translate(0,-moz-calc(-100% - var(--space-8)));-ms-transform:translate(0,calc(-100% - var(--space-8)));-o-transform:translate(0,calc(-100% - var(--space-8)));transform:translate(0,-webkit-calc(-100% - var(--space-8)));transform:translate(0,-moz-calc(-100% - var(--space-8)));transform:translate(0,calc(-100% - var(--space-8)))}")})]})}function b(e){return(0,l.BX)("button",(0,i.Z)((0,r.Z)({},e),{className:"jsx-a21f4f6814924b01 "+(e&&null!=e.className&&e.className||""),children:[(0,l.tZ)(m.Z,{}),(0,l.tZ)(c(),{id:"a21f4f6814924b01",children:"button.jsx-a21f4f6814924b01{cursor:pointer;color:var(--foreground-dimmest);border:1px solid var(--background-highest);background-color:var(--background-default);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;width:var(--space-32);height:var(--space-32)}button.jsx-a21f4f6814924b01:focus{outline:0 none}button.jsx-a21f4f6814924b01:hover{color:var(--foreground-default)}"})]}))}},7861:function(e,n,t){"use strict";t.d(n,{Z:function(){return x},c:function(){return R}});var r=t(14924),i=t(26042),o=t(35944),a=t(87603),l=t.n(a),s=t(67294),c=t(12215),u=t(88075),d=t(84790),p=t(81255),f=t(7297),m=t(31230),h=t(37887);function v(){var e=(0,f.Z)(["\n  query HomeTutorialOnboarding {\n    currentUser {\n      id\n      hasRepl\n    }\n  }\n"]);return v=function(){return e},e}var g={},Z=(0,m.Ps)(v());var b=t(15085),y=t(11163),w=t(47634);function R(e){var n=(0,c.Z)("home-onboarding","home-onboarding-checklist-".concat(e)).dismiss;(0,s.useEffect)((function(){n()}),[n])}var k=function(e){var n=e.complete,t=e.onClick,r=e.description,i=e.title,a=n?"dimmer":"default";return(0,o.BX)(b.G7,{tag:"li",css:[b.gU.filled,b.l0.position.relative,b.l0.p(8),n?b.l0.backgroundColor.backgroundHigher:b.l0.backgroundColor.backgroundDefault,{border:"1px solid ".concat(p.TV.outlineDimmest)}],children:[(0,o.BX)(b.G7,{css:[b.l0.p(4)],children:[(0,o.tZ)(b.xv,{variant:"subheadDefault",color:a,children:i}),(0,o.BX)(b.xv,{color:a,multiline:!0,children:[n?(0,o.tZ)(u.Z,{color:p.TV.accentPositiveDefault,size:16,css:[b.l0.mr(4)]}):(0,o.tZ)(d.ArrowRight,{size:16,css:[b.l0.mr(4)]}),r]}),(0,o.tZ)(b.G7,{children:(0,o.tZ)("button",{onClick:function(){t&&"function"===typeof t&&t()},type:"button",className:"jsx-6c599e90d55a1346",children:"Start"})})]}),(0,o.tZ)(l(),{id:"6c599e90d55a1346",children:'button.jsx-6c599e90d55a1346{overflow:hidden;margin:-1px;border-width:0;padding:0;width:1px;height:1px;background:none;clip:rect(0,0,0,0);white-space:nowrap;cursor:pointer}button.jsx-6c599e90d55a1346::after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;display:block;cursor:pointer;z-index:1}'})]})},x=function(){var e,n=(0,c.Z)("home-onboarding","home-onboarding-checklist"),t=n.finished,a=n.dismiss,l=n.register,u=(0,c.Z)("home-onboarding","home-onboarding-checklist-learn"),f=u.finished,m=u.register,v=(0,c.Z)("home-onboarding","home-onboarding-checklist-apps"),R=v.finished,x=v.register,P=(0,y.useRouter)();(0,s.useEffect)((function(){l({skipRegistration:!0}),m({skipRegistration:!0}),x({skipRegistration:!0})}),[l,m,x]);var C=function(e){var n=(0,i.Z)({},g,e);return h.a(Z,n)}({ssr:!1}).data,U=null===C||void 0===C||null===(e=C.currentUser)||void 0===e?void 0:e.hasRepl;if(void 0===t||!0===t)return null;var B=[f,R,U].filter(Boolean).length,T={name:"learn",title:"Learn",description:"Explore tutorials",complete:!!f,onClick:function(){return P.push("/learn?source=checklist")}},S={name:"community",title:"Share",description:"See what people are building",complete:!!R,onClick:function(){return P.push("/postsFeed","/community?source=checklist")}},A={name:"create",title:"Code",description:"Create your first Repl",complete:!!U};return(0,o.tZ)("section",{children:(0,o.BX)(b.G7,{css:[b.l0.colWithGap(8)],children:[(0,o.BX)(b.G7,{css:[b.l0.rowWithGap(12),b.l0.align.center],children:[(0,o.tZ)(b.xv,{variant:"headerDefault",children:"Get started"}),(0,o.tZ)(b.G7,{css:[b.l0.rowWithGap(2),b.l0.align.center,b.l0.justify.center],children:Array.from({length:3}).map((function(e,n){return(0,o.tZ)(b.G7,{css:[b.l0.borderRadius(8),b.l0.width(12),b.l0.height(4),n<B?b.l0.backgroundColor.accentPositiveDefault:b.l0.backgroundColor.backgroundHighest]},n)}))}),(0,o.tZ)(b.xv,{children:"".concat(B,"/3")}),(0,o.tZ)(b.hU,{alt:"Hide section",onClick:a,children:(0,o.tZ)(d.Close,{})})]}),(0,o.tZ)(b.xv,{multiline:!0,children:"See what you can accomplish on Replit"}),(0,o.BX)(b.G7,{tag:"ul",css:[b.l0.display.grid,b.l0.maxWidth(700),b.l0.display.grid,(0,r.Z)({listStyleType:"none",gap:p.TV.space8,gridTemplateColumns:"auto",gridTemplateRows:"1fr 1fr 1fr"},"@media screen and (min-width: 500px)",{gridTemplateRows:"auto",gridTemplateColumns:"1fr 1fr 1fr"})],children:[(0,o.tZ)(k,(0,i.Z)({},T)),(0,o.tZ)(k,(0,i.Z)({},S)),(0,o.tZ)(w.Z,{trackingContext:"TutorialOnboarding",children:(0,o.tZ)(k,(0,i.Z)({},A))})]})]})})}},30758:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(67294);function i(e){var n=(0,r.useState)(!1),t=n[0],i=n[1],o=(0,r.useRef)(0),a=(0,r.useMemo)((function(){return{onDragEnter:function(e){e.preventDefault(),o.current++,i(!0)},onDragLeave:function(e){e.preventDefault(),o.current--,0===o.current&&i(!1)},onDrop:function(n){var t,r;n.preventDefault(),o.current=0,i(!1),n.persist();var a=Array.from(null!==(r=null===n||void 0===n||null===(t=n.dataTransfer)||void 0===t?void 0:t.files)&&void 0!==r?r:[]);0!==a.length?e(a):e(null)},onDragOver:function(e){e.preventDefault()}}}),[e]);return[t,a]}},60459:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(47568),i=t(10253),o=t(70655),a=t(67294),l=t(62722);function s(e){var n=e.onUploadPreview,t=e.onUpload,s=e.onError,c=(0,i.Z)(a.useState(!1),2),u=c[0],d=c[1],p=a.useCallback(function(){var e=(0,r.Z)((function(e,r){var i,a,c,u,p,f,m;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:d(!0),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,l.o1)(e)];case 2:return i=o.sent(),[3,4];case 3:return o.sent(),s(new Error("This image is over the ".concat(l.bq/1e6,"MB maximum"))),[2,!1];case 4:n({dataUrl:i}),a=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,(0,l.mh)(i,r)];case 6:return a=o.sent(),[3,8];case 7:return c=o.sent(),u=c.message.toLowerCase().includes("entity too large")?"This image is over the 1mb maximum":"Something went wrong",s(new Error(u)),[2,!1];case 8:if(p=a.id,f=a.url,"number"!==typeof p)throw new Error("Expected id");if("string"!==typeof f)throw new Error("Expected url");d(!1),o.label=9;case 9:return o.trys.push([9,11,,12]),[4,t({id:p,url:f})];case 10:return o.sent(),[3,12];case 11:return m=o.sent(),s(m),[2,!1];case 12:return[2,!0]}}))}));return function(n,t){return e.apply(this,arguments)}}(),[s,t,n]);return{isLoading:u,uploadImage:p}}},62722:function(e,n,t){"use strict";t.d(n,{W9:function(){return p},bq:function(){return l},mh:function(){return u},o1:function(){return s}});var r=t(47568),i=t(70655),o=t(15794),a=t(32703),l=1e7;function s(e){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)((function(e){var n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,a.L0)(e)];case 1:if(n=t.sent(),e.size>l)throw new Error("This image is over the ".concat(l/1e6,"MB maximum"));if(!n)throw new Error("Expected file");return[2,n]}}))}))).apply(this,arguments)}function u(e,n){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)((function(e,n){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,o.uz)("/data/images/upload",{image:e,context:n})];case 1:return[2,t.sent()]}}))}))).apply(this,arguments)}var p=["image/png","image/jpeg","image/gif","image/webp"]},70338:function(e,n,t){"use strict";var r=t(47568),i=t(70655),o=t(15794);n.Z=function(){var e=(0,r.Z)((function(e,n){var t,r,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e?(t=e.user,[3,4]):[3,1];case 1:return(r=n.getState().user)&&r.userInfo.isLoggedIn&&r.userInfo?(t=r.userInfo,[3,4]):[3,2];case 2:return[4,(0,o.LK)("/is_authenticated")];case 3:(a=i.sent()).success&&(t=a.user),i.label=4;case 4:return t&&(e&&(t=JSON.parse(JSON.stringify(t))),n.dispatch({type:"FETCH_USER_INFO_SUCCESS",user:t})),[2,{user:t}]}}))}));return function(n,t){return e.apply(this,arguments)}}()},32703:function(e,n,t){"use strict";t.d(n,{L0:function(){return s},Xy:function(){return a},pV:function(){return l}});var r,i=t(82670);!function(e){e.ArrayBuffer="ARRAY_BUFFER",e.BinaryString="BINARY_STRING",e.DataURL="DATA_URL",e.Text="TEXT"}(r||(r={}));var o=function(e,n){return(0,i.Z)(e,window.File)?new Promise((function(t,i){var o=new window.FileReader;switch(o.onload=function(n){var r;(null===(r=n.target)||void 0===r?void 0:r.result)?t(n.target.result):i(new Error('Failed to read file "'.concat(e.name,'"')))},o.onerror=i,n){case r.ArrayBuffer:o.readAsArrayBuffer(e);break;case r.BinaryString:o.readAsBinaryString(e);break;case r.DataURL:o.readAsDataURL(e);break;case r.Text:o.readAsText(e)}})):Promise.all(Array.from(e).filter((function(e){return!!e})).map((function(e){return o(e,n)})))},a=function(e){return o(e,r.Text)},l=function(e){return o(e,r.ArrayBuffer)},s=function(e){return o(e,r.DataURL)}},19244:function(e,n,t){"use strict";t.d(n,{O:function(){return h}});var r=t(47568),i=t(10253),o=t(70655),a=t(26042),l=t(7297),s=t(31230),c=t(15764),u=t(50319);function d(){var e=(0,l.Z)(["\n  mutation PublishReplCreatePost($input: CreateReplPost2Input!) {\n    createReplPost2(input: $input) {\n      ... on Post {\n        id\n        repl {\n          id\n          ...PublishReplData\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}var p={},f=(0,s.Ps)(d(),c.FW);function m(e){var n,t,r,i,o,a,l;return e.error?e.error.message||"Something went wrong publishing your Repl":"NotFoundError"===(null===(n=e.data)||void 0===n||null===(t=n.createReplPost2)||void 0===t?void 0:t.__typename)||"UnauthorizedError"===(null===(r=e.data)||void 0===r||null===(i=r.createReplPost2)||void 0===i?void 0:i.__typename)||"UserError"===(null===(o=e.data)||void 0===o||null===(a=o.createReplPost2)||void 0===a?void 0:a.__typename)?e.data.createReplPost2.message:(null===(l=e.data)||void 0===l?void 0:l.createReplPost2)&&"Post"!==e.data.createReplPost2.__typename?"Something went wrong publishing your Repl":void 0}function h(){var e=(0,i.Z)(function(e){var n=(0,a.Z)({},p,e);return u.D(f,n)}(),2),n=e[0],t=e[1],l=function(){var e=(0,r.Z)((function(e){var r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(r=e.input,t.loading)return[2,{data:null,error:null}];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n({variables:{input:r}})];case 2:return[2,{data:(i=o.sent()).data,error:m(i)}];case 3:return o.sent(),[2,{data:null,error:"Something went wrong publishing your Repl"}];case 4:return[2]}}))}));return function(n){return e.apply(this,arguments)}}();return{publish:l,data:t.data,loading:t.loading,error:m(t)}}},38388:function(e,n,t){"use strict";t.d(n,{M:function(){return o}});var r=t(7297);function i(){var e=(0,r.Z)(["\n  fragment PostsFeedNavTag on Tag {\n    id\n    isOfficial\n  }\n"]);return i=function(){return e},e}var o=(0,t(31230).Ps)(i())},64405:function(e,n,t){"use strict";t.d(n,{b:function(){return l}});var r=t(7297),i=t(31230),o=t(16092);function a(){var e=(0,r.Z)(["\n  fragment ReplPostRecentCommentUser on User {\n    id\n    username\n    image\n    ...UserLinkUser\n  }\n  ","\n"]);return a=function(){return e},e}var l=(0,i.Ps)(a(),o._)},47174:function(e,n,t){"use strict";t.d(n,{n:function(){return u}});var r=t(7297),i=t(31230),o=t(17674),a=t(35055),l=t(21767),s=t(38388);function c(){var e=(0,r.Z)(["\n  fragment ReplPostReplCardRepl on Repl {\n    id\n    iconUrl\n    description(plainText: true)\n    ...ReplPostReplInfoRepl\n    ...ReplStatsRepl\n    ...ReplLinkRepl\n    tags {\n      id\n      ...PostsFeedNavTag\n    }\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return c=function(){return e},e}var u=(0,i.Ps)(c(),o.Zs,a.T,l.Y,s.M)},17674:function(e,n,t){"use strict";t.d(n,{Gz:function(){return Z},U5:function(){return b},Zs:function(){return v},f_:function(){return g},rP:function(){return y}});var r=t(7297),i=t(31230),o=t(6565),a=t(58121),l=t(32399),s=t(35055),c=t(38388),u=t(64405);function d(){var e=(0,r.Z)(["\n  fragment ReplPostReplInfoRepl on Repl {\n    id\n    title\n    description(plainText: true)\n    imageUrl\n    iconUrl\n    templateInfo {\n      label\n      iconUrl\n    }\n  }\n"]);return d=function(){return e},e}function p(){var e=(0,r.Z)(["\n  fragment ReplPostRepl on Repl {\n    id\n    ...ReplPostReplInfoRepl\n    ...LikeButtonRepl\n    ...ReplStatsRepl\n    tags {\n      id\n      ...PostsFeedNavTag\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return p=function(){return e},e}function f(){var e=(0,r.Z)(["\n  fragment ReplPostReplComment on ReplComment {\n    id\n    body\n    timeCreated\n    user {\n      id\n      ...ReplPostRecentCommentUser\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function m(){var e=(0,r.Z)(["\n  fragment ReplPostPost on Post {\n    id\n    title\n    timeCreated\n    isPinned\n    isAnnouncement\n    ...ReplViewPostActionPermissions\n    replComment {\n      id\n      body(removeMarkdown: true)\n    }\n    repl {\n      id\n      ...ReplViewReplActionsPermissions\n      ...ReplPostRepl\n    }\n    user {\n      id\n      ...ReplPostUserPostUser\n    }\n    recentReplComments {\n      id\n      ...ReplPostReplComment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return m=function(){return e},e}function h(){var e=(0,r.Z)(["\n  fragment ReplPostCurrentUser on CurrentUser {\n    id\n    isModerator: hasRole(role: MODERATOR)\n    isAdmin: hasRole(role: ADMIN)\n    ...LikeButtonCurrentUser\n  }\n  ","\n"]);return h=function(){return e},e}var v=(0,i.Ps)(d()),g=(0,i.Ps)(p(),v,l.R7,s.T,c.M),Z=(0,i.Ps)(f(),u.b),b=(0,i.Ps)(m(),o.K4,o.jN,g,a.n,Z),y=(0,i.Ps)(h(),l.wO)},35055:function(e,n,t){"use strict";t.d(n,{T:function(){return o}});var r=t(7297);function i(){var e=(0,r.Z)(["\n  fragment ReplStatsRepl on Repl {\n    id\n    likeCount\n    runCount\n    commentCount\n  }\n"]);return i=function(){return e},e}var o=(0,t(31230).Ps)(i())},58121:function(e,n,t){"use strict";t.d(n,{n:function(){return l}});var r=t(7297),i=t(31230),o=t(16092);function a(){var e=(0,r.Z)(["\n  fragment ReplPostUserPostUser on User {\n    id\n    username\n    image\n    ...UserLinkUser\n  }\n  ","\n"]);return a=function(){return e},e}var l=(0,i.Ps)(a(),o._)},49197:function(e,n,t){"use strict";t.d(n,{G:function(){return y},Z:function(){return w}});var r=t(26042),i=t(69396),o=t(10253),a=t(35944),l=(t(67294),t(70917)),s=t(32399),c=t(69346),u=t(27843),d=t(81255),p=t(60977),f=t(44044),m=t(29163),h=t(15085),v=t(93160),g=t(81456),Z=t(1144),b=t(49412),y=(0,l.iv)([f.gU.filled,d.l0.p(8),{width:"auto",height:"auto"}]);function w(e){var n=e.repl,t=e.currentUser,l=e.surface,f=void 0===l||l,w=(0,o.Z)((0,s.lU)(),2),R=w[0],k=w[1].loading,x=(0,a.BX)(a.HY,{children:[(null===t||void 0===t?void 0:t.isVerified)&&(0,a.tZ)(h.zx,{css:[f&&y],disabled:k,onClick:function(){n.currentUserDidLike||(0,p.j)(p.U3.REACTED_TO_REPL,{replView:"https://replit.com"+n.url,reaction:"heart",isReplTalk:!1,item:"repl",isCommunityPublish:n.wasPosted,isAppPublish:n.wasPublished}),R({variables:{input:{replId:n.id}},optimisticResponse:{toggleReplLike:(0,i.Z)((0,r.Z)({},n),{likeCount:Math.max(0,n.likeCount+(n.currentUserDidLike?-1:1)),currentUserDidLike:!n.currentUserDidLike})}})},iconLeft:n.currentUserDidLike?(0,a.tZ)(b.Z,{}):(0,a.tZ)(u.Z,{}),text:n.likeCount>0?(0,g.d)(n.likeCount):"Like"}),t&&!t.isVerified&&(0,a.BX)(c.Z,{css:[d.l0.flex.row,d.l0.align.center,d.l0.backgroundColor.backgroundHigher,d.l0.borderRadius(8),d.l0.pr(8)],children:[(0,a.tZ)(m.Z,{alt:"Verify your email to like",css:f&&y,disabled:!0,children:(0,a.tZ)(u.Z,{})}),(0,a.tZ)(Z.x,{color:"dimmer",children:(0,g.d)(n.likeCount)})]}),!t&&(0,a.BX)(c.Z,{css:[d.l0.flex.row,d.l0.align.center,d.l0.backgroundColor.backgroundHigher,d.l0.borderRadius(8),d.l0.pr(8)],children:[(0,a.tZ)(m.Z,{alt:"Log in to like",css:f&&y,disabled:!0,children:(0,a.tZ)(u.Z,{})}),(0,a.tZ)(Z.x,{color:"dimmer",children:(0,g.d)(n.likeCount)})]})]});return f?(0,a.tZ)(v.Z,{background:"default",css:[d.l0.borderRadius(8)],children:x}):(0,a.tZ)(c.Z,{children:x})}},49483:function(e,n,t){"use strict";t.d(n,{W:function(){return m},Z:function(){return h}});var r=t(35944),i=t(67294),o=t(53427),a=t(64080),l=t(77365),s=t(60459),c=t(69346),u=t(93160),d=t(49619),p=t(81255),f=t(62722);function m(e){var n=(0,i.useState)(null),t=n[0],r=n[1],o=(0,i.useState)(null),a=o[0],l=o[1],c=(0,s.Z)({onUpload:function(n){var t=n.url;r(null),e(t)},onUploadPreview:function(e){var n=e.dataUrl;l(null),r(n)},onError:function(e){r(null),l(e.message)}}),u=(0,i.useCallback)((function(){return l(null)}),[]);return{uploadImage:c.uploadImage,error:a,clearError:u,previewUrl:t}}function h(e){var n=(0,i.useRef)(null),t=e.size||48;return(0,r.BX)(c.Z,{css:[p.l0.position.relative,{cursor:"pointer","&:hover .surface":{opacity:.8},"&:hover .icon":{opacity:1}}],onClick:function(){var e;null===(e=n.current)||void 0===e||e.click()},"aria-label":e.value?"Change icon":"Upload an icon","data-microtip-position":"right",role:"tooltip",children:[e.value?(0,r.BX)(r.HY,{children:[(0,r.tZ)(o.ZP,{iconUrl:e.value,size:e.size,alt:"icon"}),(0,r.tZ)(u.Z,{className:"surface",elevated:!0,css:[p.l0.borderRadius(8),p.l0.coverContainer,{opacity:e.isUploading?.8:0}]}),(0,r.tZ)(c.Z,{className:"icon",css:[p.l0.coverContainer,p.l0.center,p.l0.color.accentPrimaryDefault,{overflow:"hidden",opacity:e.isUploading?1:0}],children:e.isUploading?(0,r.tZ)(l.Z,{}):(0,r.tZ)(a.Z,{})})]}):(0,r.tZ)(c.Z,{css:[p.l0.center,p.l0.width(t),p.l0.height(t),p.l0.borderRadius(8),p.l0.color.foregroundDimmer,{border:"1px dashed "+p.TV.outlineDefault,"&:hover":{color:p.TV.accentPrimaryDefault,borderColor:p.TV.accentPrimaryDefault}}],children:(0,r.tZ)(d.Z,{})}),(0,r.tZ)("input",{css:[[p.l0.coverContainer,{opacity:0,zIndex:-1}]],ref:n,accept:f.W9.join(","),type:"file",onChange:function(n){var t=n.target,r=t.validity,i=t.files;if(r.valid){var o=i?i[0]:null;o&&e.onUpload(o)}}})]})}},29359:function(e,n,t){"use strict";t.d(n,{sI:function(){return u},wP:function(){return p}});var r=t(26042),i=t(7297),o=t(31230),a=t(50319);function l(){var e=(0,i.Z)(["\n  fragment ReplViewerOutputOverlayRepl on Repl {\n    id\n    title\n    imageUrl\n    lastPublishedAt\n    currentUserPermissions {\n      changeImageUrl\n    }\n  }\n"]);return l=function(){return e},e}function s(){var e=(0,i.Z)(["\n  mutation ReplViewerOutputOverlayUpdateRepl($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        imageUrl\n      }\n    }\n  }\n"]);return s=function(){return e},e}var c={},u=(0,o.Ps)(l()),d=(0,o.Ps)(s());function p(e){var n=(0,r.Z)({},c,e);return a.D(d,n)}},41307:function(e,n,t){"use strict";t.d(n,{Z:function(){return O},y:function(){return B}});var r=t(26042),i=t(69396),o=t(10253),a=t(35944),l=t(67294),s=t(30758),c=t(81255),u=t(69346),d=t(61756),p=t(57704),f=t(68368),m=t(1879),h=t(29359),v=t(60459),g=t(29163),Z=t(62913),b=t(70917),y=t(1144),w=t(49619),R=t(60977),k=t(62722),x=t(7657),P=t(15833),C=t(8633),U=(0,b.iv)({position:"absolute",top:0,left:0,width:"100%",height:"100%"});function B(e){var n=e.src,t=e.alt;return(0,a.BX)(u.Z,{css:[U,{borderBottomLeftRadius:8,borderBottomRightRadius:8,overflow:"hidden"}],children:[(0,a.tZ)(Z.Z,{objectFit:"cover",layout:"fill",src:n,alt:t}),(0,a.tZ)(u.Z,{css:[U,{background:"radial-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.6))",backgroundRepeat:"no-repeat"}]})]})}function T(e){var n=e.onClick;return(0,a.tZ)(u.Z,{onClick:function(){(0,R.j)(R.U3.RUN_BUTTON_CLICKED,{context:"replView",overlay:!0}),n()},css:[U,c.l0.center,{":hover > svg":{transform:"scale(1.2)"},"> svg":{transition:"transform 200ms",width:64,height:"auto",cursor:"pointer",filter:c.TV.shadowDefault}}],children:(0,a.tZ)(C.Z,{color:c.TV.white})})}function S(e){var n=e.isPublished,t=e.onChangeClick,r=e.onRemoveClick,i=(0,o.Z)(l.useState(!1),2),s=i[0],h=i[1];return(0,a.BX)(u.Z,{css:[c.l0.rowWithGap(8),c.l0.align.center],children:[(0,a.tZ)(d.ZP,{onClick:function(e){e.stopPropagation(),t()},text:"Change image"}),n?(0,a.tZ)(g.Z,{alt:"Cannot remove cover image of a published Repl",disabled:!0,colorway:"negative",children:(0,a.tZ)(p.Z,{})}):null,n?null:(0,a.tZ)(u.Z,{children:(0,a.tZ)(g.Z,{alt:"Remove Image",colorway:"negative",onClick:function(){h(!0)},children:(0,a.tZ)(p.Z,{})})}),(0,a.tZ)(m.Z,{isOpen:s,onRequestClose:function(){return h(!1)},children:(0,a.tZ)(f.Z,{confirmLabel:"Yes, remove this image",title:"Remove image",isDestructive:!0,onConfirm:function(){r(),h(!1)},onCancel:function(){return h(!1)},children:"This will remove your Repl\u2019s cover image. You can always add one back at any time."})})]})}function A(e){var n=e.onClick,t=e.isActive;return(0,a.BX)(u.Z,{css:[c.l0.colWithGap(16),c.l0.center],children:[(0,a.BX)(u.Z,{css:[c.l0.colWithGap(8),c.l0.center],children:[(0,a.tZ)(u.Z,{css:[{"> svg":{width:44,height:"auto"}},t&&{color:c.TV.accentPrimaryDefault}],children:(0,a.tZ)(w.Z,{})}),(0,a.tZ)(y.x,{children:"Drag and drop a cover image"})]}),(0,a.tZ)(u.Z,{children:(0,a.tZ)(d.ZP,{onClick:n,iconLeft:(0,a.tZ)(P.Z,{}),colorway:"primary",text:"Or select a file"})})]})}function O(e){var n=e.onClick,t=e.repl,d=function(e){if(null!==e&&0!==e.length){var n=e.find((function(e){return e.type.startsWith("image/")}));n?(g(null),w.uploadImage(n,x.N.ReplCoverImage)):g("Expected an image file")}},p=l.useRef(null),f=(0,o.Z)(l.useState(null),2),m=f[0],g=f[1],Z=(0,o.Z)(l.useState(t.imageUrl),2),b=Z[0],y=Z[1],w=(0,v.Z)({onUpload:function(e){var n=e.url;R({variables:{input:{id:t.id,imageUrl:n}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:(0,i.Z)((0,r.Z)({},t),{imageUrl:n})}}})},onUploadPreview:function(e){var n=e.dataUrl;y(n)},onError:function(e){g(e.message)}}),R=(0,o.Z)((0,h.wP)({onCompleted:function(e){g(null),y(e.updateRepl.repl.imageUrl)}}),1)[0],P=t.currentUserPermissions.changeImageUrl,C=(0,o.Z)((0,s.Z)(d),2),U=C[0],O=C[1],X=!b&&P;return(0,a.BX)(u.Z,(0,i.Z)((0,r.Z)({css:[c.l0.center,c.l0.flex.growAndShrink(1),!X&&{backgroundColor:c.TV.black},{borderBottomLeftRadius:8,borderBottomRightRadius:8,position:"relative",":hover .image-controls":{opacity:1}}]},O),{children:[b?(0,a.tZ)(B,{src:b,alt:t.title}):null,X?null:(0,a.tZ)(T,{onClick:n}),b&&P?(0,a.BX)(u.Z,{className:"image-controls",css:[{position:"absolute",top:c.TV.space8,right:c.TV.space8,opacity:0,".is-touch-device &":{opacity:1}}],children:[(0,a.tZ)(S,{onChangeClick:function(){var e;null===(e=p.current)||void 0===e||e.click()},onRemoveClick:function(){R({variables:{input:{id:t.id,imageUrl:null}}})},isPublished:Boolean(t.lastPublishedAt)}),m?(0,a.tZ)("div",{className:"error",children:m}):null]}):null,X?(0,a.tZ)(A,{isActive:U,onClick:function(){var e;null===(e=p.current)||void 0===e||e.click()}}):null,P?(0,a.tZ)("input",{css:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},ref:p,accept:k.W9.join(","),type:"file",onChange:function(e){var n=e.target,t=n.validity,r=n.files;t.valid&&d(r?Array.from(r):null)}}):null]}))}},45528:function(e,n,t){"use strict";t.d(n,{U:function(){return a},b:function(){return l}});var r=t(67294),i=t(64063),o=t.n(i);function a(e){var n=e.repl,t=e.currentUser;return{asViewer:e.asViewer,repl:{__typename:"Repl",currentUserPermissions:n.currentUserPermissions,id:n.id,language:n.language,slug:n.slug},currentUser:t?{__typename:"CurrentUser",id:t.id,username:t.username,isSubscribed:t.isSubscribed,roles:t.roles}:void 0}}function l(e){var n=e?a(e):null,t=r.useRef(n);return o()(n,t.current)||(t.current=n),t.current}},9523:function(e,n,t){"use strict";t.d(n,{C:function(){return s},D:function(){return l}});var r=t(7297),i=t(31230);function o(){var e=(0,r.Z)(["\n  fragment CrosisContextCurrentUser on CurrentUser {\n    id\n    username\n    isSubscribed\n    roles {\n      id\n      name\n    }\n  }\n"]);return o=function(){return e},e}function a(){var e=(0,r.Z)(["\n  fragment CrosisContextRepl on Repl {\n    id\n    language\n    slug\n    user {\n      id\n      username\n    }\n    currentUserPermissions {\n      containerWrite\n    }\n  }\n"]);return a=function(){return e},e}var l=(0,i.Ps)(o()),s=(0,i.Ps)(a())},73515:function(e,n,t){"use strict";var r=t(35944),i=t(87603),o=t.n(i),a=t(30019),l=t(44781),s=t(6951),c=t(19526),u=t(34193),d=t(81255),p=t(45273);n.Z=function(e){e.devHide;var n=e.eventId,t=e.currentUserImage,i=e.currentUserUsername;return(0,r.tZ)(u.Z,{width:"medium",isOpen:!0,preventClose:!0,onRequestClose:function(){},children:(0,r.BX)("div",{className:o().dynamic([["52051431ebcedd91",[d.n0]]])+" modal-content",children:[(0,r.BX)(c.gC,{spacing:2,align:"center",children:[(0,r.tZ)(a.Z,{level:2,children:" Your Repl is having a bit of trouble."}),(0,r.tZ)("div",{className:o().dynamic([["52051431ebcedd91",[d.n0]]])+" spacer"}),(0,r.tZ)(l.Z,{size:"large",children:"The issue has been logged and the Replit team will look into it. Try reloading the page to get back to coding."}),n?(0,r.tZ)("div",{css:[d.l0.p(16),d.l0.width("100%"),d.l0.backgroundColor.backgroundHigher,d.l0.borderRadius(8)],className:o().dynamic([["52051431ebcedd91",[d.n0]]]),children:(0,r.BX)(c.gC,{spacing:1,children:[i&&t?(0,r.BX)(c.Ug,{spacing:2,align:"center",children:[(0,r.tZ)(p.Z,{src:t,username:i,size:48}),(0,r.tZ)(l.Z,{size:"medium",children:i})]}):null,(0,r.BX)("div",{css:[d.l0.font.code],className:o().dynamic([["52051431ebcedd91",[d.n0]]]),children:["Error: ",n]})]})}):null,(0,r.tZ)("div",{className:o().dynamic([["52051431ebcedd91",[d.n0]]])+" spacer"}),(0,r.tZ)(s.Z,{onClick:function(){return window.location.reload()},color:"primary",filled:!0,fullWidth:!0,children:"reload"}),!1]}),(0,r.tZ)(o(),{id:"52051431ebcedd91",dynamic:[d.n0],children:".modal-content.__jsx-style-dynamic-selector{padding:var(--space-32)}.sentry-error-embed-wrapper{z-index:".concat(d.n0,"!important}")})]})})}},64639:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Ee}});var r=t(47568),i=t(14924),o=t(10253),a=t(70655),l=t(35944),s=t(67294),c=t(70338),u=t(83520),d=t(27182),p=t(60977),f=t(90317),m=t(26042),h=t(7297),v=t(31230),g=t(38388),Z=t(37887);function b(){var e=(0,h.Z)(["\n  fragment PostsFeedPageTag on Tag {\n    id\n    ...PostsFeedNavTag\n  }\n  ","\n"]);return b=function(){return e},e}function y(){var e=(0,h.Z)(["\n  query PostsFeedPage {\n    currentUser {\n      id\n    }\n    boards {\n      id\n      name\n      slug\n      color\n      description\n    }\n  }\n"]);return y=function(){return e},e}function w(){var e=(0,h.Z)(["\n  query PostsFeedPage2($limit: Int, $tags: [String!]!) {\n    currentUser {\n      id\n      isModerator: hasRole(role: MODERATOR)\n      isAdmin: hasRole(role: ADMIN)\n      hasPrivacyRole\n      isVerified\n      isBannedFromBoards\n      bannedFromBoardsReason\n    }\n    tags(tags: $tags) {\n      id\n      ...PostsFeedPageTag\n    }\n    tagGroups {\n      official(limit: $limit) {\n        id\n        ...PostsFeedPageTag\n      }\n      community(limit: $limit) {\n        id\n        ...PostsFeedPageTag\n      }\n    }\n  }\n  ","\n"]);return w=function(){return e},e}var R={},k=(0,v.Ps)(b(),g.M);y();var x=(0,v.Ps)(w(),k);var P=t(11163),C=t.n(P),U=t(34193),B=t(1879),T=t(81255),S=t(15085),A=t(69396),O=t(29815),X=t(17674),D=t(35087),_=t(22411);function G(){var e=(0,h.Z)(["\n  query ReplPostsFeed($options: ReplPostsQueryOptions) {\n    currentUser {\n      id\n      ...ReplPostCurrentUser\n    }\n    replPosts(options: $options) {\n      pageInfo {\n        nextCursor\n      }\n      items {\n        id\n        ...ReplPostPost\n        ...ReplCardPostPost\n        ...OldPostPost\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return G=function(){return e},e}var N={},E=(0,v.Ps)(G(),X.rP,X.U5,D.mx,_.h);var W=t(69346),L=t(1144),z=t(77365),j=t(4472),I=t(65338),F=t(5886),V=t(92850),M=t(4972);function q(e){var n=function(n){n&&n.preventDefault(),r||((0,p.j)(p.U3.POSTS_LOAD_MORE_CLICKED,{board:"all"}),a({variables:{options:(0,A.Z)((0,m.Z)({},e),{after:v})},updateQuery:function(e,n){var t;if(!n||!(null===n||void 0===n||null===(t=n.fetchMoreResult)||void 0===t?void 0:t.replPosts.items))return e;var r=n.fetchMoreResult,i=e?e.replPosts.items:[],o=(0,m.Z)({},r),a=r.replPosts.items;return a.length>0&&c.replace({pathname:c.pathname,query:(0,m.Z)({},c.query)},{pathname:h,query:{}},{shallow:!0}),o.replPosts.items=(0,O.Z)(i).concat((0,O.Z)(a)),o}}))},t=function(e){var n=(0,m.Z)({},N,e);return Z.a(E,n)}({variables:{options:e},notifyOnNetworkStatusChange:!0,context:{noBatch:!0}}),r=t.loading,i=t.data,o=t.error,a=t.fetchMore,s=(0,M.Z)({onLoadMore:function(){return v&&n()},rootMargin:"0px 0px 1000px 0px"}).targetRef,c=(0,P.useRouter)();if(o)return(0,l.tZ)(L.x,{children:o.message});var u=null===i||void 0===i?void 0:i.replPosts,d=(null===i||void 0===i?void 0:i.currentUser)||void 0;if(!u&&r)return(0,l.tZ)(W.Z,{css:[T.l0.py(64),T.l0.center],children:(0,l.tZ)(z.Z,{size:32})});if(!u)return null;var f=u.items,h=c.asPath.split("?")[0],v=u.pageInfo.nextCursor,g=e.searchQuery&&f?f.length:null;return(0,l.BX)(W.Z,{css:[T.l0.colWithGap(32)],children:[(0,l.BX)(W.Z,{css:[T.l0.colWithGap(16)],children:[null!==g&&g>0?(0,l.tZ)(L.x,{color:"dimmer",children:"REPLS AND POSTS FOUND"}):null,null!==g&&0===g?(0,l.tZ)(L.x,{color:"dimmer",children:"No Repls or Posts Found"}):null,(0,l.tZ)(W.Z,{css:[T.l0.colWithGap(64)],children:f.map((function(e){return e.title?e.replComment?(0,l.tZ)(j.Z,{post:e,currentUser:d||void 0},e.id):(0,l.tZ)(I.Z,{post:e},e.id):(0,l.tZ)(V.Z,{post:e,currentUser:d||void 0},e.id)}))})]}),(0,l.tZ)(W.Z,{css:[T.l0.center],children:r?(0,l.tZ)(z.Z,{}):v&&(0,l.tZ)(F.Z,{as:{pathname:h,query:{after:v}},href:{pathname:c.pathname,query:(0,A.Z)((0,m.Z)({},c.query),{after:v})},onClick:n,text:"Load more",ref:s})})]})}var H=t(13625);function $(){var e=(0,h.Z)(["\n  fragment ReplPostsPinnedPostsUser on User {\n    id\n    username\n    image\n  }\n"]);return $=function(){return e},e}function Q(){var e=(0,h.Z)(["\n  fragment ReplPostsPinnedPostsPost on Post {\n    id\n    title\n    commentCount\n    ...PostLinkPost\n    replComment {\n      id\n    }\n    repl {\n      id\n      title\n      url\n      commentCount\n    }\n    user {\n      id\n      ...ReplPostsPinnedPostsUser\n    }\n  }\n  ","\n  ","\n"]);return Q=function(){return e},e}function Y(){var e=(0,h.Z)(["\n  query ReplPostsPinnedPosts {\n    pinnedPosts {\n      id\n      ...ReplPostsPinnedPostsPost\n    }\n  }\n  ","\n"]);return Y=function(){return e},e}var K={},J=(0,v.Ps)($()),ee=(0,v.Ps)(Q(),H.p,J),ne=(0,v.Ps)(Y(),ee);var te=t(41664),re=t.n(te),ie=t(76149),oe=t(93160),ae=t(45273),le=t(12530),se=t(65632),ce=t(7243),ue=t(46197),de=t(62913),pe=t(70917),fe=W.K.a,me=function(){return(0,l.tZ)(W.Z,{children:(0,l.tZ)(re(),{href:"/communityHub",as:"/community-hub",children:(0,l.BX)(W.Z,{css:[{aspectRatio:"1.87"},T.l0.minWidth(230),T.l0.flex.grow(1),T.l0.position.relative,T.l0.borderRadius(8),S.gU.filled,T.l0.overflow("hidden")],children:[(0,l.tZ)(W.Z,{"aria-label":"cover image for communityhub",css:[T.l0.width("100%"),T.l0.height("100%"),(0,pe.iv)({background:"url(".concat((0,de.X)({src:"/public/images/community-hub/community-hub-preview.png",width:460}),")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"})]}),(0,l.tZ)(W.Z,{css:[T.l0.position.absolute,T.l0.bottom(0),T.l0.width("100%"),T.l0.height("65%"),{background:"linear-gradient(rgba(33,36,44,0), rgba(33,36,44,1))"}]}),(0,l.BX)(W.Z,{css:[T.l0.colWithGap(4),T.l0.position.absolute,T.l0.bottom(0),T.l0.left(0),T.l0.p(12),(0,pe.iv)({color:"white"})],children:[(0,l.tZ)(S.xv,{multiline:!0,variant:"subheadBig",css:[{overflowWrap:"break-word",wordBreak:"break-word",display:"block"},{"& > div > p":{color:"white",fontSize:S.TV.fontSizeSubheadBig,fontWeight:S.TV.fontWeightMedium,lineHeight:S.TV.lineHeightSubheadBig}}],children:"Community Hub"}),(0,l.tZ)(W.Z,{css:[T.l0.rowWithGap(8),T.l0.center,T.l0.flex.growAndShrink(1)],children:(0,l.tZ)(S.xv,{css:T.l0.flex.growAndShrink(1),variant:"small",multiline:!0,children:"Get started in the Replit Community"})})]})]})})})};function he(e){var n=e.link,t=e.title,r=e.user,i=e.commentCount;return(0,l.tZ)(re(),(0,A.Z)((0,m.Z)({passHref:!0},n),{children:(0,l.BX)(fe,{css:[S.gU.filled,T.l0.p(8),T.l0.rowWithGap(8),T.l0.align.center,T.l0.justify.spaceBetween,{color:"inherit"}],children:[(0,l.BX)(W.Z,{css:[T.l0.rowWithGap(8),T.l0.flex.growAndShrink(1),T.l0.align.center,T.l0.maxWidth("80%")],children:[(0,l.tZ)(ae.Z,{src:r.image,username:r.username,size:24}),(0,l.tZ)(S.xv,{title:t,css:[T.l0.flex.growAndShrink(1)],children:t})]}),(0,l.tZ)(le.Z,{count:i,tooltip:1===i?"1 comments":"".concat(i," comments"),children:(0,l.tZ)(se.Z,{})})]})}))}function ve(){var e=function(e){var n=(0,m.Z)({},K,e);return Z.a(ne,n)}(),n=e.loading,t=e.data,r=e.error;if(n)return(0,l.tZ)(W.Z,{css:[T.l0.p(8),T.l0.center],children:(0,l.tZ)(z.Z,{})});if(r)return(0,l.tZ)(S.xv,{children:r.message});if(!t)return null;var o,a,s,c=t.pinnedPosts.map((function(e){var n=e.replComment,t=e.user,r=n&&e.repl?e.repl:null;if(!t)return null;var i=n&&r?r.commentCount:e.commentCount,o=e.title||(null===r||void 0===r?void 0:r.title);return o?(0,l.tZ)(he,{user:t,title:o,commentCount:i,link:r&&n?(0,j.x)({replUrl:r.url,replCommentId:n.id}):(0,ie.i)(e)},e.id):null}));return(0,l.BX)(oe.Z,{background:"root",css:[T.l0.colWithGap(16)],children:[(0,l.tZ)(S.xv,{color:"dimmer",children:"FEATURED"}),(0,l.tZ)(W.Z,{css:(o={},(0,i.Z)(o,ue.A.mobile,[T.l0.maxWidth(300),T.l0.flex.growAndShrink(1)]),(0,i.Z)(o,ue.A.desktop,[T.l0.colWithGap(8),T.l0.align.stretch]),o),children:(0,l.tZ)(me,{})}),(0,l.BX)(W.Z,{children:[(0,l.tZ)(ce.Z,{gap:8,inset:16,css:[(a={},(0,i.Z)(a,ue.A.desktop,[T.l0.display.none]),(0,i.Z)(a,ue.A.mobile,{a:[T.l0.minWidth("40vw"),T.l0.maxWidth("80vw")]}),(0,i.Z)(a,"marginLeft","calc(-1 * ".concat(S.TV.space16,")")),(0,i.Z)(a,"marginRight","calc(-1 * ".concat(S.TV.space16,")")),a)],children:c}),(0,l.tZ)(W.Z,{css:(s={},(0,i.Z)(s,ue.A.mobile,[T.l0.display.none]),(0,i.Z)(s,ue.A.desktop,[T.l0.colWithGap(8),T.l0.align.stretch]),s),children:c})]})]})}var ge=t(15589),Ze=t(98967),be=t(49619),ye=t(5804),we=t(44365),Re=t(24351);function ke(){var e=(0,h.Z)(["\n  query ReplPostsSearch(\n    $options: ReplPostsQueryOptions\n    $tagsSearch: String!\n    $tagsLimit: Int = 50\n  ) {\n    currentUser {\n      id\n      ...ReplPostCurrentUser\n    }\n    replPosts(options: $options) {\n      pageInfo {\n        nextCursor\n      }\n      items {\n        id\n        ...ReplPostPost\n        ...ReplCardPostPost\n        ...OldPostPost\n      }\n    }\n    tagGroups {\n      official(search: $tagsSearch, limit: $tagsLimit) {\n        id\n        ...PostsFeedNavTag\n      }\n      community(search: $tagsSearch, limit: $tagsLimit) {\n        id\n        ...PostsFeedNavTag\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ke=function(){return e},e}var xe={},Pe=(0,v.Ps)(ke(),X.rP,X.U5,D.mx,_.h,g.M);var Ce=t(61179),Ue={value:"",loading:!1,result:{tags:[],posts:[]}};function Be(e,n){switch(n.type){case"data":var t=n.data,r=t.tagGroups,i=t.replPosts,o=t.currentUser,a=(0,O.Z)(r.official).concat((0,O.Z)(r.community)),l=i.items;return(0,A.Z)((0,m.Z)({},e),{loading:!1,result:{currentUser:o,tags:(0,Ce.Z)(a,{existing:e.result.tags,getKey:function(e){return e.id}}),posts:(0,Ce.Z)(l,{existing:e.result.posts,getKey:function(e){return e.id}})}});case"value":return(0,A.Z)((0,m.Z)({},e),{loading:Boolean(n.value),value:n.value});case"clear":return Ue}}function Te(e){var n=e.initialValue,t=void 0===n?"":n,r=e.currentTags,i=(0,s.useReducer)(Be,(0,A.Z)((0,m.Z)({},Ue),{value:t})),o=i[0],a=i[1],l=(0,Re.Z)(o.value,200),c=function(e){var n=(0,m.Z)({},xe,e);return Z.a(Pe,n)}({variables:{tagsSearch:l,options:{searchQuery:l,tags:(null===r||void 0===r?void 0:r.length)?r.map((function(e){return e.id})):void 0}},skip:!l,notifyOnNetworkStatusChange:!0}).data;(0,s.useEffect)((function(){c&&a({type:"data",data:c})}),[c]);var u=(0,s.useCallback)((function(e){a({type:"value",value:e})}),[a]),d=(0,s.useCallback)((function(){a({type:"clear"})}),[a]);return{loading:o.loading,value:o.value,setValue:u,result:o.result,clear:d}}var Se=t(72917);function Ae(e){var n=e.posts,t=e.tags,r=e.currentUser,i=e.search,o=e.currentTags,a=e.loading;return(0,l.BX)(W.Z,{css:[T.l0.colWithGap(32)],children:[(null===o||void 0===o?void 0:o.length)?null:(0,l.tZ)(Xe,{tags:t}),(0,l.BX)(W.Z,{css:[T.l0.colWithGap(16)],children:[n.length>0?(0,l.tZ)(Oe,{children:"REPLS AND POSTS FOUND"}):null,0!==n.length||a?null:(0,l.BX)(W.Z,{css:[T.l0.display.block],children:[(0,l.tZ)(L.x,{color:"dimmer",multiline:!0,children:'No Repls or Posts found for "'}),(0,l.tZ)(L.x,{multiline:!0,children:i}),(0,l.BX)(L.x,{color:"dimmer",multiline:!0,children:['"',(null===o||void 0===o?void 0:o.length)?(0,l.BX)(l.HY,{children:[" in ",o.map((function(e){return"#"+e.id})).join(", ")]}):null]})]}),(0,l.tZ)(W.Z,{css:[T.l0.colWithGap(64)],children:n.map((function(e){return e.title?e.replComment?(0,l.tZ)(j.Z,{post:e,currentUser:r||void 0},e.id):(0,l.tZ)(I.Z,{post:e},e.id):(0,l.tZ)(V.Z,{post:e,currentUser:r||void 0},e.id)}))})]})]})}function Oe(e){var n=e.children;return(0,l.tZ)(L.x,{color:"dimmer",children:n})}function Xe(e){var n,t=e.tags;return t.length?(0,l.BX)(l.HY,{children:[(0,l.BX)(W.Z,{css:[T.l0.colWithGap(16),(0,i.Z)({},ue.A.desktop,[T.l0.display.none])],children:[(0,l.tZ)(Oe,{children:"TAGS FOUND"}),(0,l.tZ)(ce.Z,{gap:8,inset:16,css:[(n={},(0,i.Z)(n,ue.A.desktop,[T.l0.display.none]),(0,i.Z)(n,"marginLeft","calc(-1 * ".concat(T.TV.space16,")")),(0,i.Z)(n,"marginRight","calc(-1 * ".concat(T.TV.space16,")")),n)],children:t.map((function(e){return(0,l.tZ)(Se.t,{tag:e,link:(0,ye.M6)(e.id)},e.id)}))})]}),(0,l.BX)(W.Z,{css:[T.l0.colWithGap(16),(0,i.Z)({},ue.A.mobile,[T.l0.display.none])],children:[(0,l.tZ)(Oe,{children:"TAGS FOUND"}),(0,l.tZ)(W.Z,{css:[T.l0.flex.row,T.l0.flex.wrap,{margin:"calc(-1 * ".concat(T.TV.space8,")")}],children:t.map((function(e){return(0,l.tZ)(W.Z,{css:[T.l0.m(4)],children:(0,l.tZ)(Se.t,{tag:e,link:(0,ye.M6)(e.id)})},e.id)}))})]}),(0,l.tZ)(W.Z,{css:{borderTop:"1px solid "+T.TV.outlineDimmest}})]}):null}var De=t(32951),_e=t(7861),Ge=t(88253);function Ne(){var e,n,t,r,a,c,h,v=(0,P.useRouter)(),g=(0,we.Qf)(v.query);(0,_e.c)("apps");var b=function(e){var n=(0,m.Z)({},R,e);return Z.a(x,n)}({variables:{tags:g.tags||[],limit:10}}),y=b.data,w=b.previousData,k=Boolean((null===y||void 0===y?void 0:y.currentUser)||(null===w||void 0===w?void 0:w.currentUser)),A=Boolean((null===y||void 0===y||null===(e=y.currentUser)||void 0===e?void 0:e.isBannedFromBoards)||(null===w||void 0===w||null===(n=w.currentUser)||void 0===n?void 0:n.isBannedFromBoards)),O=(0,o.Z)(s.useState(!1),2),X=O[0],D=O[1],_=(0,o.Z)(s.useState(!1),2),G=_[0],N=_[1],E=(0,o.Z)(s.useState(!1),2),z=E[0],j=E[1],I=(null===y||void 0===y?void 0:y.tagGroups)||(null===w||void 0===w?void 0:w.tagGroups),F=(null===y||void 0===y?void 0:y.tags)||(null===w||void 0===w?void 0:w.tags),V=Te({initialValue:g.searchQuery,currentTags:F}),M=(0,o.Z)(v.asPath.split("?"),1)[0];(0,De.Z)(V.clear,[M,V.clear]),s.useEffect((function(){var e;if(!V.loading){var n=(0,we.Qf)(C().query);if((n.searchQuery||null)!==(V.value||null))if(V.value){var t=(0,ye.nr)(V.value,n);C().push(t.href,t.as,{shallow:!0})}else{var r=(null===(e=n.tags)||void 0===e?void 0:e.length)?(0,ye.M6)(n.tags.join(",")):(0,ye.L8)();C().push(r.href,r.as,{shallow:!0})}}}),[V.loading,V.value]);var H,$,Q,Y,K,J,ee=k?function(){D(!0)}:function(){N(!0),(0,p.j)(p.U3.SIGNUP_REQUESTED,{from:"feed",location:"publish-button"})},ne=(0,l.BX)(W.Z,{css:[T.l0.rowWithGap(16),T.l0.align.center,T.l0.justify.spaceBetween,(H={},(0,i.Z)(H,ue.A.mobile,[T.l0.pb(16)]),(0,i.Z)(H,ue.A.desktop,[T.l0.pb(32)]),H)],children:[(0,l.tZ)(W.Z,{css:[T.l0.flex.growAndShrink(1),(0,i.Z)({},ue.A.desktop,[T.l0.maxWidth(280)])],children:0===(null===F||void 0===F?void 0:F.length)?(0,l.tZ)(d.Z,{loading:V.loading,value:V.value,onChange:function(e){return V.setValue(e.currentTarget.value)},onClear:V.clear,placeholder:"Search for Repls, Posts, and Tags"}):null}),V.value?null:(0,l.tZ)(W.Z,{children:(0,l.tZ)(ge.Z,{id:"",items:[{value:f.vX.Hot,title:f.vX.Hot},{value:f.vX.New,title:f.vX.New},{value:f.vX.Top,title:f.vX.Top}],initialSelectedItem:{value:g.order,title:g.order},onChange:function(e){var n=(0,ye.QH)(e.value,g);v.push(n.href,n.as)}})})]});return(0,l.tZ)(u.Z,{title:"Community",description:"Your place to share and discover Repls",children:(0,l.BX)(oe.Z,{css:[T.l0.maxWidth(1e3),T.l0.py(32),T.l0.px(16),($={marginLeft:"auto",marginRight:"auto"},(0,i.Z)($,ue.A.mobile,[T.l0.colWithGap(16)]),(0,i.Z)($,ue.A.desktop,[T.l0.colWithGap(24)]),$)],children:[(0,l.tZ)(W.Z,{css:[T.l0.colWithGap(16)],children:(0,l.BX)(W.Z,{css:[(Q={},(0,i.Z)(Q,ue.A.mobile,[T.l0.align.baseline]),(0,i.Z)(Q,ue.A.desktop,[T.l0.align.center]),Q),[T.l0.rowWithGap(8),T.l0.justify.spaceBetween]],children:[(0,l.BX)(W.Z,{css:(Y={},(0,i.Z)(Y,ue.A.mobile,[T.l0.colWithGap(8)]),(0,i.Z)(Y,ue.A.desktop,[T.l0.rowWithGap(16)]),Y),children:[(0,l.tZ)(L.h,{level:1,variant:"headerBig",children:"Community"}),(null===F||void 0===F?void 0:F.length)?(0,l.tZ)(W.Z,{css:[T.l0.rowWithGap(8),T.l0.flex.growAndShrink(1)],children:F.map((function(e){var n=F.filter((function(n){return n.id!==e.id})),t=n.length?(0,ye.M6)(n.map((function(e){return e.id})).join(",")):(0,ye.L8)();return(0,l.tZ)(Se.t,{tag:e,link:t,isActive:!0},e.id)}))}):null]}),(0,l.tZ)(W.Z,{children:(null===y||void 0===y||null===(t=y.currentUser)||void 0===t?void 0:t.hasPrivacyRole)?null:(0,l.tZ)(S.zx,{iconLeft:(0,l.tZ)(be.Z,{}),css:[T.l0.justify.center],big:!0,colorway:"primary",text:"Publish a Repl",onClick:ee})})]})}),(0,l.BX)(W.Z,{css:(K={},(0,i.Z)(K,ue.A.mobile,[T.l0.colWithGap(32)]),(0,i.Z)(K,ue.A.desktop,[T.l0.rowWithGap(32)]),K),children:[(0,l.BX)(W.Z,{css:(0,i.Z)({},ue.A.desktop,[T.l0.width("30%")]),children:[(0,l.tZ)(W.Z,{css:(0,i.Z)({},ue.A.desktop,[T.l0.display.none]),children:ne}),(0,l.BX)(W.Z,{css:[(J={},(0,i.Z)(J,ue.A.mobile,[T.l0.colWithGap(16)]),(0,i.Z)(J,ue.A.desktop,[T.l0.colWithGap(32)]),J),V.value&&(0,i.Z)({},ue.A.mobile,T.l0.display.none),(null===F||void 0===F?void 0:F.length)&&(0,i.Z)({},ue.A.mobile,T.l0.display.none)],children:[A?(0,l.tZ)(S.E_,{text:(0,l.BX)(S.xv,{variant:"small",multiline:!0,children:["Your replit account has been banned from using community features",(null===y||void 0===y||null===(r=y.currentUser)||void 0===r?void 0:r.bannedFromBoardsReason)||(null===w||void 0===w||null===(a=w.currentUser)||void 0===a?void 0:a.bannedFromBoardsReason)?' for "'.concat((null===y||void 0===y||null===(c=y.currentUser)||void 0===c?void 0:c.bannedFromBoardsReason)||(null===w||void 0===w||null===(h=w.currentUser)||void 0===h?void 0:h.bannedFromBoardsReason),'"'):"",".",(0,l.tZ)("br",{}),"If you believe that there has been a mistake and/or would like to appeal, you can"," ",(0,l.tZ)("a",{href:"https://contact.moderation.repl.co",target:"_blank",children:"get in touch"})," ","with our community moderators."]}),colorway:"red"}):null,(0,l.tZ)(ve,{}),I?(0,l.tZ)(ye.JL,{tagGroups:I,params:g}):null]})]}),(0,l.BX)(W.Z,{css:[T.l0.flex.growAndShrink(1)],children:[(0,l.tZ)(W.Z,{css:(0,i.Z)({},ue.A.mobile,[T.l0.display.none]),children:ne}),(0,l.tZ)(W.Z,{css:[T.l0.colWithGap(16)],children:V.value?(0,l.tZ)(Ae,{tags:V.result.tags,posts:V.result.posts,search:V.value,loading:V.loading,currentTags:F,currentUser:(null===y||void 0===y?void 0:y.currentUser)||(null===w||void 0===w?void 0:w.currentUser)}):(0,l.tZ)(q,{searchQuery:g.searchQuery,tags:g.tags,order:g.order,after:g.after,count:g.count})})]})]}),(0,l.tZ)(B.Z,{onRequestClose:function(){z&&!window.confirm("Are you sure you want to leave? Unsaved changes may be lost.")||(D(!1),j(!1))},isOpen:X,noPadding:!0,maxWidth:872,fitContent:!0,children:(0,l.tZ)(Ge.Z,{source:"postsFeed"})}),(0,l.tZ)(U.Z,{isOpen:G,onRequestClose:function(){N(!1)},children:(0,l.tZ)(Ze.Z,{onSuccess:function(){N(!1),D(!0)},source:"postsFeed"})})]})})}Ne.getInitialProps=function(){var e=(0,r.Z)((function(e){var n,t;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return n=e.req,t=e.store,[4,(0,c.Z)(n,t)];case 1:return r.sent(),[2,{}]}}))}));return function(n){return e.apply(this,arguments)}}();var Ee=Ne},7657:function(e,n,t){"use strict";var r;t.d(n,{N:function(){return r}}),function(e){e.AdminTutorialUpdate="admin-tutorial-update",e.CommunityPost="community-post",e.ProfileImage="profile-image",e.ProfileCoverImage="profile-cover-image",e.TemplateIcon="template-icon",e.ReplIcon="repl-icon",e.ReplCoverImage="repl-cover-image",e.TrainingProfileImage="training-profile-image"}(r||(r={}))}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[2240,62,8966,4778,4470,7485,3520,2995,3414,4718,3497,4967,4924,5208,8253,6243,9774,2888,179],(function(){return n(97239),n(21880)}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=postsFeed-9a3c00e514f9409e.js.map